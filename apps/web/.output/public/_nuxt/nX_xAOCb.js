import{_}from"./BBUxdlGc.js";import{e as v,j as h,s as k,k as V,l as A,c as a,a as t,g as N,m as p,v as c,u as r,t as q,p as C,d as f,b as L,w as S,q as B,x as D,o as n}from"#entry";const E={class:"mx-auto max-w-lg space-y-6"},R={class:"space-y-2"},T={class:"space-y-2"},M={key:0,class:"text-sm text-red-500"},U=["disabled"],j={key:0},z={key:1},P={class:"text-sm text-muted-foreground"},I=v({__name:"login",setup(F){const b=B(),x=D(),i=h(),{loading:l,error:u,isAuthenticated:g}=k(i),s=V({email:"",password:""});A(()=>{g.value&&m()});const y=async()=>{try{await i.login({...s}),m()}catch(o){console.warn("login failed",o)}};function m(){const o=x.query.redirect||"/dashboard";b.push(o)}return(o,e)=>{const w=_;return n(),a("div",E,[e[6]||(e[6]=t("h1",{class:"text-2xl font-semibold"},"Login to your dashboard",-1)),e[7]||(e[7]=t("p",{class:"text-sm text-muted-foreground"}," Access your profile, manage content, and customize your public microsite. ",-1)),t("form",{class:"space-y-4",onSubmit:C(y,["prevent"])},[t("div",R,[e[2]||(e[2]=t("label",{class:"text-sm font-medium",for:"email"},"Email",-1)),p(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=d=>s.email=d),type:"email",required:"",autocomplete:"email",class:"w-full rounded-md border border-border bg-background px-3 py-2"},null,512),[[c,s.email]])]),t("div",T,[e[3]||(e[3]=t("label",{class:"text-sm font-medium",for:"password"},"Password",-1)),p(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=d=>s.password=d),type:"password",required:"",autocomplete:"current-password",class:"w-full rounded-md border border-border bg-background px-3 py-2"},null,512),[[c,s.password]])]),r(u)?(n(),a("p",M,q(r(u)),1)):N("",!0),t("button",{class:"w-full rounded-md bg-primary px-4 py-2 font-medium text-white disabled:cursor-not-allowed disabled:opacity-70",disabled:r(l)},[r(l)?(n(),a("span",j,"Logging in...")):(n(),a("span",z,"Login"))],8,U)],32),t("p",P,[e[5]||(e[5]=f(" Donâ€™t have an account? ",-1)),L(w,{to:"/auth/register",class:"text-primary hover:underline"},{default:S(()=>[...e[4]||(e[4]=[f("Create one",-1)])]),_:1})])])}}});export{I as default};

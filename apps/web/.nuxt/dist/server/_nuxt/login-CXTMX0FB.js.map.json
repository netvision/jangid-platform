{"file":"login-CXTMX0FB.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAmDA,UAAM,SAAS,UAAA;AACf,UAAM,QAAQ,SAAA;AACd,UAAM,OAAO,aAAA;AACb,UAAM,EAAE,SAAS,OAAO,gBAAA,IAAoB,YAAY,IAAI;AAE5D,UAAM,OAAO,SAAS;AAAA,MACpB,OAAO;AAAA,MACP,UAAU;AAAA,IAAA,CACX;AAED,gBAAY,MAAM;AAChB,UAAI,gBAAgB,OAAO;AACzB,0BAAA;AAAA,MACF;AAAA,IACF,CAAC;AAWD,aAAS,oBAAoB;AAC3B,YAAM,WAAY,MAAM,MAAM,YAAuB;AACrD,aAAO,KAAK,QAAQ;AAAA,IACtB;;;mBA9EOA,eAAAC,WAAA,EAAA,OAAM,6BAAA,GAA4B,MAAA,CAAA,wTAUtBC,cAAA,SAAA,KAAK,KAAK,0OAWVA,cAAA,SAAA,KAAK,QAAQ;UAOjBC,MAAA,KAAA,GAAK;gEAAkCA,MAAA,KAAA,CAAK,CAAA,MAAA;AAAA;;;kKAGxCA,MAAA,OAAA,CAAO,IAAA,cAAA,EAAA,GAAA;UAENA,MAAA,OAAA,GAAO;;;;;;;QAMX,IAAG;AAAA,QAAiB,OAAM;AAAA,MAAA;yBAApC,CAAwF,GAAAC,QAAAC,UAAA,aAAA;;;;;8BAArB,YAAU;AAAA,YAAA;AAAA;;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_unref","_push","_parent"],"sources":["../../../../pages/auth/login.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto max-w-lg space-y-6\">\n    <h1 class=\"text-2xl font-semibold\">Login to your dashboard</h1>\n    <p class=\"text-sm text-muted-foreground\">\n      Access your profile, manage content, and customize your public microsite.\n    </p>\n    <form class=\"space-y-4\" @submit.prevent=\"onSubmit\">\n      <div class=\"space-y-2\">\n        <label class=\"text-sm font-medium\" for=\"email\">Email</label>\n        <input\n          id=\"email\"\n          v-model=\"form.email\"\n          type=\"email\"\n          required\n          autocomplete=\"email\"\n          class=\"w-full rounded-md border border-border bg-background px-3 py-2\"\n        />\n      </div>\n      <div class=\"space-y-2\">\n        <label class=\"text-sm font-medium\" for=\"password\">Password</label>\n        <input\n          id=\"password\"\n          v-model=\"form.password\"\n          type=\"password\"\n          required\n          autocomplete=\"current-password\"\n          class=\"w-full rounded-md border border-border bg-background px-3 py-2\"\n        />\n      </div>\n      <p v-if=\"error\" class=\"text-sm text-red-500\">{{ error }}</p>\n      <button\n        class=\"w-full rounded-md bg-primary px-4 py-2 font-medium text-white disabled:cursor-not-allowed disabled:opacity-70\"\n        :disabled=\"loading\"\n      >\n        <span v-if=\"loading\">Logging in...</span>\n        <span v-else>Login</span>\n      </button>\n    </form>\n    <p class=\"text-sm text-muted-foreground\">\n      Donâ€™t have an account?\n      <NuxtLink to=\"/auth/register\" class=\"text-primary hover:underline\">Create one</NuxtLink>\n    </p>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { reactive, watchEffect } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useAuthStore } from '@/stores/auth'\n\nconst router = useRouter()\nconst route = useRoute()\nconst auth = useAuthStore()\nconst { loading, error, isAuthenticated } = storeToRefs(auth)\n\nconst form = reactive({\n  email: '',\n  password: ''\n})\n\nwatchEffect(() => {\n  if (isAuthenticated.value) {\n    navigateAfterAuth()\n  }\n})\n\nconst onSubmit = async () => {\n  try {\n    await auth.login({ ...form })\n    navigateAfterAuth()\n  } catch (err) {\n    console.warn('login failed', err)\n  }\n}\n\nfunction navigateAfterAuth() {\n  const redirect = (route.query.redirect as string) || '/dashboard'\n  router.push(redirect)\n}\n</script>\n"],"version":3}